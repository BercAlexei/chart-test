(function(t){function e(e){for(var i,n,o=e[0],l=e[1],u=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},s={app:0},r=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/chart-test/dist/authorization/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("router-view")],1)])},r=[],n=(a("5c0b"),a("2877")),o={},l=Object(n["a"])(o,s,r,!1,null,null,null),u=l.exports,c=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"authorization"},[a("Title",{attrs:{title:"LeadHit"}}),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("span",{staticClass:"form__text"},[t._v("ID сайты")]),a("input",{staticClass:"form__input",class:{error:!t.getValid},attrs:{type:"text"},domProps:{value:t.getId},on:{input:t.updateId}}),a("span",[t._v(t._s(t.getErrorMsg))]),a("button",{staticClass:"btn"},[t._v("Войти")])])],1)},p=[],f=a("2f62"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")])},h=[],b={props:{title:{type:String,require:!0}}},m=b,g=(a("c773"),Object(n["a"])(m,v,h,!1,null,"1f13990a",null)),y=g.exports,w={components:{Title:y},computed:{...Object(f["c"])(["getId","getValid","getErrorMsg"])},methods:{...Object(f["d"])(["updateId"]),...Object(f["b"])(["getResult"]),onSubmit(){this.getResult().then(t=>{"ok"===t.message&&this.$router.push("/analytics")}).catch(t=>{console.log(t)})}}},_=w,O=(a("f5fd"),Object(n["a"])(_,d,p,!1,null,"376d835e",null)),x=O.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"analitics"},[a("Title",{attrs:{title:"Аналитиика"}}),a("div",{staticClass:"analitics__content"},[a("Title",{staticClass:"title-chart",attrs:{title:"Аналитика по визитам"}}),a("div",{ref:"chartdiv",staticClass:"chart"})],1)],1)},I=[],C=a("147a"),E=a("f7ee"),S=a("71fe"),T=a("e4e6"),M=a("830b"),z=a("a6df"),A=a("bd30"),P=a("bdee"),D=a("9dc0"),V=a("c53c"),$=a("d7cb"),F=a("6126"),k={components:{Title:y},computed:{...Object(f["c"])(["getDataChart"])},mounted(){let t=C["a"].new(this.$refs.chartdiv);t.setThemes([F["a"].new(t)]);let e=t.container.children.push(M["a"].new(t,{panY:!1,layout:t.verticalLayout})),a=e.yAxes.push(z["a"].new(t,{min:0,renderer:A["a"].new(t,{})})),i=e.xAxes.push(P["a"].new(t,{baseInterval:{timeUnit:"day",count:1},renderer:D["a"].new(t,{})})),s=e.series.push(V["a"].new(t,{name:"Series",xAxis:i,yAxis:a,valueYField:"visits",valueXField:"date",tooltip:E["a"].new(t,{labelText:"[bold]Визиты: [/]{valueY},\n[bold]Дата: [/]{valueX.formatDate()}"})}));s.fills.template.setAll({fillOpacity:.1,visible:!0}),s.bullets.push(()=>S["a"].new(t,{sprite:T["a"].new(t,{radius:5,fill:s.get("fill")})})),s.data.setAll(this.getDataChart),e.set("cursor",$["a"].new(t,{}))}},R=k,Y=(a("7af8"),Object(n["a"])(R,j,I,!1,null,null,null)),L=Y.exports;i["a"].use(c["a"]);const G=[{path:"/authorization",name:"authorization",component:x,beforeEnter:(t,e,a)=>{"5f8475902b0be670555f1bb3"==localStorage.getItem("leadhit-site-id")?a({path:"/analytics"}):a()}},{path:"/analytics",name:"analytics",component:L,beforeEnter:(t,e,a)=>{"5f8475902b0be670555f1bb3"!==localStorage.getItem("leadhit-site-id")?a({name:"authorization"}):a()}},{path:"/",redirect:"/authorization"}],H=new c["a"]({mode:"history",base:"/chart-test/dist/authorization/",routes:G});var J=H;i["a"].use(f["a"]);var X=new f["a"].Store({state:{siteId:"",validForm:!0,massageError:"id сайта должен содержать 24 символа",dataChart:[{date:"2020-07-01",visits:213},{date:"2020-07-02",visits:249},{date:"2020-07-03",visits:179},{date:"2020-07-04",visits:170},{date:"2020-07-05",visits:184},{date:"2020-07-06",visits:202},{date:"2020-07-07",visits:198},{date:"2020-07-08",visits:168},{date:"2020-07-09",visits:176},{date:"2020-07-10",visits:171},{date:"2020-07-11",visits:190},{date:"2020-07-12",visits:154},{date:"2020-07-13",visits:246},{date:"2020-07-14",visits:250},{date:"2020-07-15",visits:227},{date:"2020-07-16",visits:140},{date:"2020-07-17",visits:170},{date:"2020-07-18",visits:125},{date:"2020-07-19",visits:106},{date:"2020-07-20",visits:207},{date:"2020-07-21",visits:222},{date:"2020-07-22",visits:198},{date:"2020-07-23",visits:204},{date:"2020-07-24",visits:213},{date:"2020-07-25",visits:145},{date:"2020-07-26",visits:166},{date:"2020-07-27",visits:163},{date:"2020-07-28",visits:135},{date:"2020-07-29",visits:45}]},getters:{getId(t){return t.siteId},getValid(t){return t.validForm},getErrorMsg(t){return t.massageError},getDataChart(t){const e=t.dataChart.map(t=>(t.date=Date.parse(t.date),t));return e}},mutations:{updateId(t,e){t.siteId=e.target.value,t.validForm=!0},updateValid(t,e){t.validForm=e},updateErrorMsg(t,e){t.massageError=e}},actions:{async getResult({state:t,commit:e}){if(24===t.siteId.length){const a=await fetch("https://track-api.leadhit.io/client/test_auth",{method:"GET",headers:{"Api-Key":"5f8475902b0be670555f1bb3:eEZn8u05G3bzRpdL7RiHCvrYAYo","Leadhit-Site-Id":t.siteId}});if(200==a.status)return e("updateValid",!0),localStorage.setItem("leadhit-site-id",t.siteId),await a.json();e("updateValid",!1),e("updateErrorMsg","Ошибка")}else e("updateValid",!1),e("updateErrorMsg","id сайта должен содержать 24 символа")}}});i["a"].config.productionTip=!1,new i["a"]({router:J,store:X,render:t=>t(u)}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"7af8":function(t,e,a){"use strict";a("a375")},"9c0c":function(t,e,a){},a375:function(t,e,a){},bd2c:function(t,e,a){},c773:function(t,e,a){"use strict";a("f315")},f315:function(t,e,a){},f5fd:function(t,e,a){"use strict";a("bd2c")}});
//# sourceMappingURL=app.72d967c3.js.map