(function(t){function e(e){for(var s,n,o=e[0],l=e[1],u=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/chart-test/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("router-view")],1)])},r=[],n={beforeMount(){"/analytics"===this.$router.currentRoute.path&&"5f8475902b0be670555f1bb3"!==localStorage.getItem("leadhit-site-id")&&this.$router.push("/")}},o=n,l=(a("5c0b"),a("2877")),u=Object(l["a"])(o,i,r,!1,null,null,null),c=u.exports,d=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"authorization"},[a("Title",{attrs:{title:"LeadHit"}}),a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("span",{staticClass:"form__text"},[t._v("ID сайты")]),a("input",{staticClass:"form__input",class:{error:!t.getValid},attrs:{type:"text"},domProps:{value:t.getId},on:{input:t.updateId}}),a("span",[t._v(t._s(t.getErrorMsg))]),a("button",{staticClass:"btn"},[t._v("Войти")])])],1)},f=[],v=a("2f62"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")])},b=[],m={props:{title:{type:String,require:!0}}},g=m,y=(a("c773"),Object(l["a"])(g,h,b,!1,null,"1f13990a",null)),w=y.exports,_={components:{Title:w},computed:{...Object(v["c"])(["getId","getValid","getErrorMsg"])},methods:{...Object(v["d"])(["updateId"]),...Object(v["b"])(["getResult"]),onSubmit(){this.getResult().then(t=>{"ok"===t.message&&this.$router.push("/analytics")}).catch(t=>{console.log(t)})}}},O=_,x=(a("f5fd"),Object(l["a"])(O,p,f,!1,null,"376d835e",null)),j=x.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"analitics"},[a("Title",{attrs:{title:"Аналитиика"}}),a("div",{staticClass:"analitics__content"},[a("Title",{staticClass:"title-chart",attrs:{title:"Аналитика по визитам"}}),a("div",{ref:"chartdiv",staticClass:"chart"})],1)],1)},I=[],E=a("147a"),S=a("f7ee"),M=a("71fe"),T=a("e4e6"),$=a("830b"),A=a("a6df"),P=a("bd30"),D=a("bdee"),V=a("9dc0"),F=a("c53c"),R=a("d7cb"),k=a("6126"),Y={components:{Title:w},computed:{...Object(v["c"])(["getDataChart"])},mounted(){let t=E["a"].new(this.$refs.chartdiv);t.setThemes([k["a"].new(t)]);let e=t.container.children.push($["a"].new(t,{panY:!1,layout:t.verticalLayout})),a=e.yAxes.push(A["a"].new(t,{min:0,renderer:P["a"].new(t,{})})),s=e.xAxes.push(D["a"].new(t,{baseInterval:{timeUnit:"day",count:1},renderer:V["a"].new(t,{})})),i=e.series.push(F["a"].new(t,{name:"Series",xAxis:s,yAxis:a,valueYField:"visits",valueXField:"date",tooltip:S["a"].new(t,{labelText:"[bold]Визиты: [/]{valueY},\n[bold]Дата: [/]{valueX.formatDate()}"})}));i.fills.template.setAll({fillOpacity:.1,visible:!0}),i.bullets.push(()=>M["a"].new(t,{sprite:T["a"].new(t,{radius:5,fill:i.get("fill")})})),i.data.setAll(this.getDataChart),e.set("cursor",R["a"].new(t,{}))}},z=Y,L=(a("7af8"),Object(l["a"])(z,C,I,!1,null,null,null)),G=L.exports;s["a"].use(d["a"]);const H=[{path:"/",name:"authorization",component:j},{path:"/analytics",name:"analytics",component:G},{path:"/",redirect:"/authorization"}],J=new d["a"]({mode:"history",base:"/chart-test/dist/",routes:H});var X=J;s["a"].use(v["a"]);var q=new v["a"].Store({state:{siteId:"",validForm:!0,massageError:"id сайта должен содержать 24 символа",dataChart:[{date:"2020-07-01",visits:213},{date:"2020-07-02",visits:249},{date:"2020-07-03",visits:179},{date:"2020-07-04",visits:170},{date:"2020-07-05",visits:184},{date:"2020-07-06",visits:202},{date:"2020-07-07",visits:198},{date:"2020-07-08",visits:168},{date:"2020-07-09",visits:176},{date:"2020-07-10",visits:171},{date:"2020-07-11",visits:190},{date:"2020-07-12",visits:154},{date:"2020-07-13",visits:246},{date:"2020-07-14",visits:250},{date:"2020-07-15",visits:227},{date:"2020-07-16",visits:140},{date:"2020-07-17",visits:170},{date:"2020-07-18",visits:125},{date:"2020-07-19",visits:106},{date:"2020-07-20",visits:207},{date:"2020-07-21",visits:222},{date:"2020-07-22",visits:198},{date:"2020-07-23",visits:204},{date:"2020-07-24",visits:213},{date:"2020-07-25",visits:145},{date:"2020-07-26",visits:166},{date:"2020-07-27",visits:163},{date:"2020-07-28",visits:135},{date:"2020-07-29",visits:45}]},getters:{getId(t){return t.siteId},getValid(t){return t.validForm},getErrorMsg(t){return t.massageError},getDataChart(t){const e=t.dataChart.map(t=>(t.date=Date.parse(t.date),t));return e}},mutations:{updateId(t,e){t.siteId=e.target.value,t.validForm=!0},updateValid(t,e){t.validForm=e},updateErrorMsg(t,e){t.massageError=e}},actions:{async getResult({state:t,commit:e}){if(t.siteId.length>=24){const a=await fetch("https://track-api.leadhit.io/client/test_auth",{method:"GET",headers:{"Api-Key":"5f8475902b0be670555f1bb3:eEZn8u05G3bzRpdL7RiHCvrYAYo","Leadhit-Site-Id":t.siteId}});if(200==a.status)return e("updateValid",!0),localStorage.setItem("leadhit-site-id",t.siteId),await a.json();e("updateValid",!1),e("updateErrorMsg","Ошибка")}else e("updateValid",!1),e("updateErrorMsg","id сайта должен содержать 24 символа")}}});s["a"].config.productionTip=!1,new s["a"]({router:X,store:q,render:t=>t(c)}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"7af8":function(t,e,a){"use strict";a("a375")},"9c0c":function(t,e,a){},a375:function(t,e,a){},bd2c:function(t,e,a){},c773:function(t,e,a){"use strict";a("f315")},f315:function(t,e,a){},f5fd:function(t,e,a){"use strict";a("bd2c")}});
//# sourceMappingURL=app.1cefc30e.js.map